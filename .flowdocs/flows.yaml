meta:
  app: "Orquestra"
  version: "0.2.0"
  description: "Plataforma enterprise modular con marketplace de extensiones, gesti√≥n organizacional, usuarios/roles y m√≥dulos din√°micos (KPI, Encuestas, Formularios, BI)."
  updated_at: "2026-02-22"
  sprint:
    number: 1
    goal: "Fundamentos: stack, design system y layout base"
    start: "2026-02-22"
    end: "2026-03-07"
    days_left: 13
  stats:
    total: 54
    implemented: 3
    partial: 0
    pending: 51
    with_tests: 0
    coverage_pct: 0

modules:
  - id: "landing"
    name: "Landing Page"
    description: "P√°gina de aterrizaje p√∫blica del producto. Incluye hero con CTA, secci√≥n de beneficios, pasos de funcionamiento, extensiones destacadas, beneficios cloud y CTA final. Debe verse enterprise y profesional."
    actors: ["visitante"]

  - id: "app_shell"
    name: "App Shell (Layout)"
    description: "Estructura general de la aplicaci√≥n autenticada: AppLayout con sidebar din√°mica, header superior con selector de rol, √°rea de contenido principal. Controla la inyecci√≥n de m√≥dulos y men√∫ por roles/extensiones."
    actors: ["admin", "manager", "viewer"]

  - id: "marketplace"
    name: "Marketplace de Extensiones"
    description: "Cat√°logo de extensiones disponibles y activas. Permite habilitar/deshabilitar m√≥dulos (KPI, Encuestas, BI). Cada extensi√≥n muestra badge de estado, descripci√≥n y bot√≥n de activaci√≥n. Al activar, el sidebar se actualiza din√°micamente."
    actors: ["admin"]

  - id: "kpi"
    name: "Indicadores KPI"
    description: "M√≥dulo de extensi√≥n para gesti√≥n y monitoreo de indicadores clave de rendimiento. Incluye listado de KPIs, creaci√≥n via modal, widget para dashboard y l√≥gica de sem√°foro (critical/warning/stable)."
    actors: ["admin", "manager", "viewer"]

  - id: "surveys"
    name: "Encuestas"
    description: "M√≥dulo de extensi√≥n para crear y distribuir encuestas de satisfacci√≥n. Incluye listado de encuestas y visualizaci√≥n de resultados con gr√°ficas mock."
    actors: ["admin", "manager"]

  - id: "bi"
    name: "Tableros BI"
    description: "M√≥dulo de extensi√≥n de Business Intelligence. Dashboard con gr√°ficas avanzadas (barras, l√≠neas, donut) usando datos mock. Soporta descarga y compartici√≥n de reportes."
    actors: ["admin", "manager", "viewer"]

  - id: "user_management"
    name: "Gesti√≥n de Usuarios"
    description: "Administraci√≥n de usuarios de la organizaci√≥n. Listado con b√∫squeda, detalle de usuario, asignaci√≥n de m√∫ltiples roles via chips, asignaci√≥n a grupos. Solo accesible para administradores."
    actors: ["admin"]

  - id: "roles_permissions"
    name: "Roles y Permisos"
    description: "Gesti√≥n de roles con matriz de permisos granulares (view_kpi, edit_kpi, activate_extensions, manage_users). Interfaz enterprise con tabla de permisos por rol."
    actors: ["admin"]

  - id: "user_groups"
    name: "Grupos de Usuarios"
    description: "Gesti√≥n de grupos organizacionales. Crear grupos, asignar usuarios a grupos y asignar rol por grupo. Permite organizar usuarios por departamento o funci√≥n."
    actors: ["admin"]

  - id: "dashboard"
    name: "Dashboard Principal"
    description: "Panel principal de la aplicaci√≥n autenticada. Muestra resumen de KPIs activos (widgets), accesos r√°pidos a m√≥dulos habilitados, y estado general de la organizaci√≥n."
    actors: ["admin", "manager", "viewer"]

  - id: "global_state"
    name: "Estado Global"
    description: "Infraestructura de estado con Zustand. Maneja rol actual, extensiones activas, usuario actual y organizaci√≥n. Permite activar extensi√≥n, refrescar sidebar y cambiar rol en tiempo real."
    actors: ["system"]

  - id: "organization_mgmt"
    name: "Gesti√≥n de Organizaci√≥n"
    description: "M√≥dulo para gestionar la estructura jer√°rquica de la empresa: √°reas, departamentos, responsables y empleados. Vista de √°rbol expandible con CRUD de √°reas."
    actors: ["admin", "manager"]

  - id: "contact"
    name: "P√°gina de Contacto"
    description: "Formulario p√∫blico de captaci√≥n de leads y solicitud de demo. Layout a 2 columnas con formulario + info de contacto, horarios y CTA de demo personalizada."
    actors: ["visitante"]

  - id: "forms"
    name: "Formularios"
    description: "M√≥dulo de extensi√≥n para crear formularios personalizados y recopilar informaci√≥n del equipo. Incluye constructor de formularios y visualizaci√≥n de respuestas."
    actors: ["admin", "manager"]

entities:
  - id: "user"
    name: "Usuario"
    states: ["active", "inactive", "suspended"]
    transitions:
      - from: "active"
        to: "inactive"
        action: "Desactivar usuario"
      - from: "inactive"
        to: "active"
        action: "Reactivar usuario"
      - from: "active"
        to: "suspended"
        action: "Suspender usuario"

  - id: "role"
    name: "Rol"
    states: ["active", "disabled"]
    transitions: []

  - id: "permission"
    name: "Permiso"
    states: []
    transitions: []

  - id: "group"
    name: "Grupo"
    states: ["active", "archived"]
    transitions: []

  - id: "extension"
    name: "Extensi√≥n"
    states: ["available", "active"]
    transitions:
      - from: "available"
        to: "active"
        action: "Habilitar extensi√≥n"
      - from: "active"
        to: "available"
        action: "Deshabilitar extensi√≥n"

  - id: "kpi_indicator"
    name: "Indicador KPI"
    states: ["critical", "warning", "stable"]
    transitions:
      - from: "stable"
        to: "warning"
        action: "Valor se acerca al umbral"
      - from: "warning"
        to: "critical"
        action: "Valor supera umbral cr√≠tico"

  - id: "survey"
    name: "Encuesta"
    states: ["draft", "published", "closed"]
    transitions:
      - from: "draft"
        to: "published"
        action: "Publicar encuesta"
      - from: "published"
        to: "closed"
        action: "Cerrar encuesta"

  - id: "organization"
    name: "Organizaci√≥n"
    states: ["active"]
    transitions: []

  - id: "bi_report"
    name: "Reporte BI"
    states: ["generated", "shared"]
    transitions:
      - from: "generated"
        to: "shared"
        action: "Compartir reporte"

  - id: "area"
    name: "√Årea Organizacional"
    states: ["active", "archived"]
    transitions:
      - from: "active"
        to: "archived"
        action: "Archivar √°rea"
      - from: "archived"
        to: "active"
        action: "Reactivar √°rea"

  - id: "contact_lead"
    name: "Lead de Contacto"
    states: ["received", "contacted", "converted"]
    transitions:
      - from: "received"
        to: "contacted"
        action: "Contactar lead"
      - from: "contacted"
        to: "converted"
        action: "Convertir a cliente"

stories:
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # FASE 0 ‚Äî PREPARACI√ìN (secuencial, antes de cualquier vista)
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # US-P01: Definici√≥n de Stack Tecnol√≥gico
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  - id: "US-P01"
    title: "Como equipo de desarrollo quiero definir el stack tecnol√≥gico y la estructura del proyecto para tener una base s√≥lida antes de implementar vistas."
    module: "global_state"
    priority: "critical"
    status: "implemented"
    sprint: 1
    flow_ids: ["FLOW-P01", "FLOW-P02"]
    acceptance_criteria:
      - id: "AC-001"
        description: "El proyecto usa Next.js 15 con App Router + TypeScript strict. La ra√≠z del proyecto es orq/ (no se crea subcarpeta)."
        validated: true
        flow_ids: ["FLOW-P01"]
      - id: "AC-002"
        description: "Se ha configurado Tailwind CSS como sistema de estilos, con tokens custom (colores, border-radius, tipograf√≠a) en tailwind.config."
        validated: true
        flow_ids: ["FLOW-P01"]
      - id: "AC-003"
        description: "Se ha instalado y configurado JSON Server como backend mock (db.json con datos iniciales, script en package.json)."
        validated: true
        flow_ids: ["FLOW-P01"]
      - id: "AC-004"
        description: "Se han instalado React Hook Form + Zod + @hookform/resolvers para validaci√≥n de formularios."
        validated: true
        flow_ids: ["FLOW-P01"]
      - id: "AC-005"
        description: "El proyecto arranca en modo dev sin errores con npm run dev. JSON Server corre en paralelo (puerto 3001)."
        validated: true
        flow_ids: ["FLOW-P02"]
      - id: "AC-006"
        description: "Se ha definido la estructura de carpetas Next.js: app/ (rutas), components/, lib/, types/, mock/ (db.json)."
        validated: true
        flow_ids: ["FLOW-P01"]
      - id: "AC-007"
        description: "Se ha documentado la decisi√≥n de stack en un archivo STACK.md con justificaci√≥n de cada elecci√≥n."
        validated: true
        flow_ids: ["FLOW-P01"]
      - id: "AC-008"
        description: "Se ha configurado el App Router con rutas base: / (landing), /dashboard, /organizacion, /usuarios, /extensiones, /contacto."
        validated: true
        flow_ids: ["FLOW-P02"]
      - id: "AC-009"
        description: "Se ha configurado ESLint + path aliases (@/) en tsconfig.json."
        validated: true
        flow_ids: ["FLOW-P01"]

  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # US-P02: Design System y Look & Feel
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  - id: "US-P02"
    title: "Como equipo de desarrollo quiero implementar el design system basado en el mockup de Figma para garantizar consistencia visual en toda la plataforma."
    module: "app_shell"
    priority: "critical"
    status: "implemented"
    sprint: 1
    flow_ids: ["FLOW-P03", "FLOW-P04"]
    acceptance_criteria:
      - id: "AC-001"
        description: "Se han definido 14 tokens de color en globals.css v√≠a @theme inline de Tailwind v4: --color-primary (#2563EB), --color-primary-light (#EEF2FF), --color-primary-hover (#1D4ED8), --color-accent-green (#16A34A), --color-accent-green-light (#F0FDF4), --color-accent-red (#DC2626), --color-accent-red-light (#FEF2F2), --color-accent-amber (#D97706), --color-accent-amber-light (#FFFBEB), --color-surface (#FFFFFF), --color-bg (#F0F4FF), --color-border (#E2E8F0), --color-cta-dark (#0F172A), --color-text-primary (#0F172A), --color-text-secondary (#64748B), --color-text-muted (#94A3B8)."
        validated: true
        flow_ids: ["FLOW-P03"]
      - id: "AC-002"
        description: "Se ha configurado la tipograf√≠a con --font-sans: 'Inter' importada desde Google Fonts en layout.tsx, con escalas de tama√±o de referencia: 32px hero H1, 24px page H1, 14px body, 13px card labels, 12px badges."
        validated: true
        flow_ids: ["FLOW-P03"]
      - id: "AC-003"
        description: "Se han definido 4 tokens de border-radius en globals.css: --radius-card (12px), --radius-pill (999px), --radius-button (8px), --radius-input (8px)."
        validated: true
        flow_ids: ["FLOW-P03"]
      - id: "AC-004"
        description: "Se han definido 2 tokens de sombra en globals.css: --shadow-card (0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04)) y --shadow-card-hover (0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04))."
        validated: true
        flow_ids: ["FLOW-P03"]
      - id: "AC-005"
        description: "Se ha definido la iconograf√≠a con lucide-react, estilo outlined, color --color-primary, tama√±o 20px para sidebar y 24px para cards."
        validated: true
        flow_ids: ["FLOW-P03"]
      - id: "AC-006"
        description: "Componente Button (components/ui/Button.tsx) con 4 variantes (primary, outline, dark, ghost), 3 tama√±os (sm, md, lg), estado disabled con opacity 50%, forwardRef y clsx para composici√≥n de clases."
        validated: true
        flow_ids: ["FLOW-P04"]
      - id: "AC-007"
        description: "Componente Badge (components/ui/Badge.tsx) con 5 variantes (info, success, warning, error, neutral), forma pill (rounded-pill), padding horizontal 10px (px-2.5), tipograf√≠a 12px font-medium."
        validated: true
        flow_ids: ["FLOW-P04"]
      - id: "AC-008"
        description: "Componente Card (components/ui/Card.tsx) base con border-radius 12px (rounded-card), shadow --shadow-card, prop hover para shadow elevada (--shadow-card-hover), borde 1px --color-border y padding 24px (p-6)."
        validated: true
        flow_ids: ["FLOW-P04"]
      - id: "AC-009"
        description: "Componente Input (components/ui/Input.tsx) con slot de icono izquierdo opcional, border-radius 8px (rounded-input), focus ring azul (ring-primary), padding adaptativo cuando hay icono (pl-10)."
        validated: true
        flow_ids: ["FLOW-P04"]
      - id: "AC-010"
        description: "Componente KpiCard (components/ui/KpiCard.tsx) que compone Card + Badge + iconos Lucide (TrendingUp/TrendingDown/Minus), con props: title (string), value (string|number), change (string), trend (up/down/neutral), icon (ReactNode)."
        validated: true
        flow_ids: ["FLOW-P04"]
      - id: "AC-011"
        description: "Componente ExtensionCard (components/ui/ExtensionCard.tsx) con resoluci√≥n din√°mica de iconos Lucide por nombre, statusConfig (available/active/coming-soon ‚Üí badge + bot√≥n), props: name, description, iconName, status, category, onToggle."
        validated: true
        flow_ids: ["FLOW-P04"]
      - id: "AC-012"
        description: "Componentes TableRow (components/ui/TableRow.tsx) y TreeItem (components/ui/TreeItem.tsx) para tablas de usuarios y √°rbol organizacional. Existe p√°gina de showcase (app/(app)/showcase/page.tsx) renderizando todos los componentes con sus variantes."
        validated: true
        flow_ids: ["FLOW-P04"]


  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # US-P03: Datos Mock Realistas
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  - id: "US-P03"
    title: "Como equipo quiero datos mock realistas y coherentes para que todas las vistas se puedan implementar con datos representativos desde el inicio."
    module: "global_state"
    priority: "high"
    status: "pending"
    sprint: 1
    flow_ids: ["FLOW-P05", "FLOW-P06"]
    acceptance_criteria:
      - id: "AC-001"
        description: "Existen al menos 10 usuarios mock con nombres espa√±oles, emails @orquestra.com y tel√©fonos +34 600 XXX XXX."
        validated: false
        flow_ids: ["FLOW-P05"]
      - id: "AC-002"
        description: "Existen al menos 14 √°reas organizacionales mock con jerarqu√≠a (Direcci√≥n General como ra√≠z), empleados y responsables."
        validated: false
        flow_ids: ["FLOW-P05"]
      - id: "AC-003"
        description: "Existen 5 extensiones mock: 3 disponibles (KPI, Formularios, Encuestas) y 2 pr√≥ximamente (Colaboraci√≥n, BI)."
        validated: false
        flow_ids: ["FLOW-P05"]
      - id: "AC-004"
        description: "Existen 3 roles mock: Directivo (todos los permisos), Responsable de √°rea (parcial), Colaborador (solo lectura)."
        validated: false
        flow_ids: ["FLOW-P06"]
      - id: "AC-005"
        description: "Los KPIs mock incluyen: Resumen organizaci√≥n (12 √°reas, 148 colaboradores), Actividad reciente (24 hoy, +18%), Estado del sistema (100% operativo)."
        validated: false
        flow_ids: ["FLOW-P05"]
      - id: "AC-006"
        description: "Cada entidad mock tiene IDs √∫nicos y relaciones coherentes (usuarios asignados a √°reas, √°reas con responsables)."
        validated: false
        flow_ids: ["FLOW-P05"]
      - id: "AC-007"
        description: "Los datos se exportan desde un archivo centralizado (mock/data.ts) con tipos TypeScript."
        validated: false
        flow_ids: ["FLOW-P06"]
      - id: "AC-008"
        description: "El store React Context se inicializa con estos datos mock al montar la app."
        validated: false
        flow_ids: ["FLOW-P06"]

  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # FASE 1 ‚Äî VISTAS PRINCIPALES (secuencial)
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # US-001: Landing Page Enterprise
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  
  - id: "US-001"
    title: "Landing enterprise orientada a decisi√≥n ejecutiva"
    module: "landing"
    priority: "high"
    status: "implemented"
    sprint: 1
    story_points: 8
    actors: ["visitante", "director", "tomador_decision"]

    narrative: >
      Como director o responsable de transformaci√≥n digital,
      quiero ingresar a la landing de Orquestra y comprender en segundos
      que se trata de una plataforma empresarial modular, confiable y escalable,
      para evaluar r√°pidamente su adopci√≥n y acceder a una demostraci√≥n.

    business_context:
      product_positioning: "Plataforma enterprise modular tipo ecosystem-driven (similar a Salesforce AppExchange mindset)"
      key_message: "Activa solo las capacidades que tu organizaci√≥n necesita"
      differentiation:
        - "Arquitectura por extensiones activables"
        - "Marketplace integrado"
        - "Enfoque enterprise-first"
        - "Time-to-value acelerado"

    ux_intent:
      primary_goal: "Conversi√≥n a demo"
      secondary_goal: "Confianza ejecutiva"
      tertiary_goal: "Comprensi√≥n del modelo modular"
      emotional_tone:
        - "corporativo"
        - "confiable"
        - "moderno"
        - "tecnol√≥gicamente s√≥lido"

    information_architecture:
      required_sections:
        - "Hero estrat√©gico"
        - "Propuesta de valor empresarial"
        - "Modelo de plataforma modular"
        - "Capacidades clave"
        - "Extensiones destacadas"
        - "Beneficios enterprise/cloud"
        - "CTA de conversi√≥n"
        - "Footer institucional"

    acceptance_criteria:

      - id: "AC-001"
        name: "Hero con posicionamiento ejecutivo"
        description: >
          La secci√≥n hero comunica inmediatamente que Orquestra es
          una plataforma empresarial modular. Debe incluir:
          - H1 orientado a transformaci√≥n operativa medible
          - Subt√≠tulo que mencione expl√≠citamente el modelo por extensiones
          - Mockup limpio tipo dashboard enterprise
          - CTA primario hacia demo
          - CTA secundario informativo
        validations:
          - "El valor modular se entiende en ‚â§5 segundos"
          - "Existe exactamente un H1"
          - "El hero es above-the-fold en desktop"
          - "El dise√±o transmite est√©tica enterprise (no startup gen√©rica)"
        validated: true
        flow_ids: ["FLOW-001"]

      - id: "AC-002"
        name: "Secci√≥n de propuesta de valor"
        description: >
          Existe una secci√≥n que explica claramente que Orquestra permite
          construir soluciones empresariales mediante la activaci√≥n de
          extensiones bajo demanda.
        validations:
          - "Se menciona expl√≠citamente el concepto de extensiones"
          - "Se comunica el beneficio de usar solo lo necesario"
          - "El lenguaje es corporativo, no t√©cnico excesivo"
          - "La jerarqu√≠a visual gu√≠a la lectura ejecutiva"
        validated: true
        flow_ids: ["FLOW-002"]

      - id: "AC-003"
        name: "Modelo de plataforma modular"
        description: >
          Existe una secci√≥n visual que explique el flujo:
          Organizaci√≥n ‚Üí Activaci√≥n de extensiones ‚Üí Soluci√≥n operativa.
        validations:
          - "El flujo se entiende sin leer texto largo"
          - "Existe apoyo visual (diagrama, steps o visual flow)"
          - "Refuerza el concepto de escalabilidad"
        validated: true
        flow_ids: ["FLOW-002"]

      - id: "AC-004"
        name: "Capacidades empresariales"
        description: >
          Existe una secci√≥n de capacidades clave con cards
          (ej. multi-organizaci√≥n, KPI, automatizaci√≥n, gobierno de datos).
        validations:
          - "Las capacidades est√°n orientadas a empresa, no a usuario individual"
          - "Iconograf√≠a consistente"
          - "Grid responsive"
          - "Hover states en desktop"
        validated: true
        flow_ids: ["FLOW-002"]

      - id: "AC-005"
        name: "Extensiones destacadas como marketplace"
        description: >
          La landing muestra extensiones (KPI, Encuestas, BI) claramente
          etiquetadas como 'Extensi√≥n' o 'M√≥dulo activable', reforzando
          el modelo tipo marketplace.
        validations:
          - "Cada item tiene badge de extensi√≥n"
          - "Se entiende que pueden activarse bajo demanda"
          - "La secci√≥n transmite mentalidad de ecosystem"
        validated: true
        flow_ids: ["FLOW-002"]

      - id: "AC-006"
        name: "Beneficios enterprise y cloud"
        description: >
          Existe una secci√≥n que comunique atributos enterprise:
          seguridad, escalabilidad, multi-tenant, alta disponibilidad.
        validations:
          - "Lenguaje orientado a TI/directores"
          - "Dise√±o visual diferenciado (secci√≥n premium)"
          - "No usa claims vac√≠os sin contexto"
        validated: true
        flow_ids: ["FLOW-002"]

      - id: "AC-007"
        name: "Navegaci√≥n corporativa"
        description: >
          La navbar sticky muestra logo Orquestra y navegaci√≥n clara
          orientada a exploraci√≥n ejecutiva.
        validations:
          - "Sticky funcional"
          - "Responsive con men√∫ m√≥vil"
          - "Estados hover y focus"
          - "Accesible por teclado"
        validated: true
        flow_ids: ["FLOW-003"]

      - id: "AC-008"
        name: "Experiencia responsive premium"
        description: >
          La landing mantiene calidad visual y legibilidad
          en m√≥vil, tablet y desktop.
        validations:
          - "Sin scroll horizontal en 320px"
          - "CTAs t√°ctiles ‚â•44px"
          - "Tipograf√≠a escala correctamente"
          - "Las secciones mantienen jerarqu√≠a visual"
        validated: true
        flow_ids: ["FLOW-001"]

      - id: "AC-009"
        name: "CTA final orientado a decisi√≥n"
        description: >
          La p√°gina cierra con un bloque de conversi√≥n que invite
          a solicitar demo o informaci√≥n, reforzando confianza enterprise.
        validations:
          - "Ubicado antes del footer"
          - "Mensaje orientado a valor de negocio"
          - "Bot√≥n primario consistente con design system"
        validated: true
        flow_ids: ["FLOW-002"]

    non_functional_requirements:
      performance:
        - "Lighthouse ‚â• 90"
        - "LCP < 2.5s"
        - "CLS < 0.1"
      accessibility:
        - "WCAG 2.1 AA b√°sico"
        - "Navegaci√≥n por teclado"
      seo:
        - "Metadata completa"
        - "OpenGraph"
        - "Estructura sem√°ntica correcta"

    definition_of_done:
      - "La propuesta modular se entiende claramente"
      - "La p√°gina transmite confianza enterprise"
      - "Todos los AC validados"
      - "Build de producci√≥n exitoso"
      - "Revisi√≥n UX aprobada"
  
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # US-002: P√°gina de contacto corporativa con confirmaci√≥n de env√≠o
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  - id: "US-002"
    title: "P√°gina de contacto corporativa con confirmaci√≥n de env√≠o"
    module: "landing"
    priority: "high"
    status: "pending"
    sprint: 1
    story_points: 8
    actors: ["visitante", "cto", "director", "tomador_decision"]

    narrative: >
      Como Director de Tecnolog√≠a o responsable de evaluar plataformas,
      quiero acceder a una p√°gina de contacto clara, moderna y confiable
      para solicitar informaci√≥n sobre precios, planes y capacidades de Orquestra,
      y recibir confirmaci√≥n inmediata de que mi mensaje fue enviado correctamente.

    business_goal:
      - "Capturar leads calificados enterprise"
      - "Reducir fricci√≥n en el primer contacto"
      - "Transmitir confianza corporativa"
      - "Preparar pipeline comercial"

    ux_intent:
      primary_goal: "Env√≠o exitoso del formulario"
      secondary_goal: "Generar confianza post-env√≠o"
      emotional_tone:
        - "profesional"
        - "moderno"
        - "enterprise"
        - "confiable"
        - "sin fricci√≥n"

    functional_scope:

      form_fields_required:
        - "Nombre completo"
        - "Correo corporativo"
        - "Organizaci√≥n"
        - "Rol"
        - "Mensaje"
      optional_fields:
        - "Tel√©fono"
        - "Tama√±o de la organizaci√≥n"
        - "Inter√©s principal (planes, demo, partnership, etc.)"

      system_behaviors:
        - "Validaci√≥n en tiempo real"
        - "Estado de carga al enviar"
        - "Mensaje de √©xito visible"
        - "Env√≠o de correo al equipo comercial"
        - "Correo de confirmaci√≥n al usuario"
        - "Prevenci√≥n de spam b√°sica"

    acceptance_criteria:

      - id: "AC-001"
        name: "Dise√±o corporativo de la p√°gina"
        description: >
          La p√°gina de contacto presenta un layout moderno,
          limpio y alineado al design system enterprise de Orquestra.
        validations:
          - "Jerarqu√≠a visual clara"
          - "Espaciado consistente"
          - "Tipograf√≠a enterprise"
          - "Responsive completo"
        validated: false

      - id: "AC-002"
        name: "Formulario intuitivo"
        description: >
          El formulario es f√°cil de completar para un ejecutivo,
          con labels claros, placeholders √∫tiles y agrupaci√≥n l√≥gica.
        validations:
          - "Tiempo estimado de llenado ‚â§ 60 segundos"
          - "Campos obligatorios marcados"
          - "Errores visibles inline"
          - "Navegaci√≥n por teclado funcional"
        validated: false

      - id: "AC-003"
        name: "Sugerencias inteligentes de mensaje"
        description: >
          La UI muestra ejemplos o chips de ayuda sobre
          qu√© puede solicitar el usuario (ej. precios, demo, arquitectura).
        validations:
          - "Existen al menos 4 sugerencias visibles"
          - "Al hacer click se insertan en el textarea"
          - "No interfieren con escritura manual"
        validated: false

      - id: "AC-004"
        name: "Env√≠o funcional del formulario"
        description: >
          Al enviar, el sistema procesa la solicitud de forma as√≠ncrona
          y muestra estado de carga.
        validations:
          - "Bot√≥n muestra loading state"
          - "Se evita doble env√≠o"
          - "Timeout manejado correctamente"
          - "Errores de red manejados"
        validated: false

      - id: "AC-005"
        name: "Confirmaci√≥n visual inmediata"
        description: >
          Tras env√≠o exitoso, el usuario ve un mensaje claro de confirmaci√≥n
          sin abandonar la p√°gina.
        validations:
          - "Mensaje de √©xito visible"
          - "Tono corporativo y tranquilizador"
          - "Incluye expectativa de tiempo de respuesta"
          - "Accesible por lectores de pantalla"
        validated: false

      - id: "AC-006"
        name: "Correo recibido por el equipo"
        description: >
          El sistema env√≠a un email estructurado al equipo comercial
          con la informaci√≥n del lead.
        validations:
          - "Incluye todos los campos"
          - "Formato legible"
          - "Timestamp incluido"
          - "Ambiente configurable (dev/prod)"
        validated: false

      - id: "AC-007"
        name: "Correo de confirmaci√≥n al usuario"
        description: >
          El usuario recibe un correo autom√°tico confirmando
          la recepci√≥n de su solicitud.
        validations:
          - "Enviado al correo capturado"
          - "Incluye resumen del mensaje"
          - "Branding de Orquestra"
          - "Tiempo estimado de respuesta"
        validated: false

      - id: "AC-008"
        name: "Experiencia responsive premium"
        description: >
          La p√°gina mantiene usabilidad y est√©tica en m√≥vil,
          tablet y desktop.
        validations:
          - "Sin scroll horizontal en 320px"
          - "Campos t√°ctiles ‚â•44px"
          - "CTA visible en viewport m√≥vil"
        validated: false

      - id: "AC-009"
        name: "Protecci√≥n b√°sica anti-spam"
        description: >
          El formulario implementa al menos una medida anti-spam.
        validations:
          - "Honeypot o equivalente"
          - "Rate limiting b√°sico"
          - "Validaci√≥n de dominio de correo"
        validated: false

    non_functional_requirements:
      performance:
        - "Tiempo de env√≠o percibido < 2s"
        - "Sin bloqueo del main thread"
      accessibility:
        - "WCAG 2.1 AA"
        - "ARIA live en mensaje de √©xito"
      security:
        - "Sanitizaci√≥n de inputs"
        - "Protecci√≥n contra XSS"
        - "Validaci√≥n server-side obligatoria"

    analytics_events:
      - "contact_form_view"
      - "contact_form_submit"
      - "contact_form_success"
      - "contact_form_error"

    definition_of_done:
      - "Formulario env√≠a correctamente"
      - "Usuario recibe correo de confirmaci√≥n"
      - "Equipo recibe lead"
      - "UX aprobada por dise√±o"
      - "Tests b√°sicos pasando"
      - "Sin errores en consola"



# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# US-003: App Shell y Layout Autenticado
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  - id: "US-003"
    title: "Como usuario autenticado quiero una estructura de layout con sidebar y header para navegar entre los m√≥dulos de la plataforma."
    module: "app_shell"
    priority: "high"
    status: "pending"
    sprint: 1
    flow_ids: ["FLOW-004", "FLOW-005", "FLOW-006", "FLOW-007"]
    acceptance_criteria:
      - id: "AC-001"
        description: "El AppLayout renderiza un sidebar izquierdo, header superior y √°rea de contenido."
        validated: false
        flow_ids: ["FLOW-004"]
      - id: "AC-002"
        description: "El sidebar muestra 5 √≠tems fijos de navegaci√≥n: Inicio, Organizaci√≥n, Usuarios, Contenidos, Extensiones."
        validated: false
        flow_ids: ["FLOW-004"]
      - id: "AC-003"
        description: "El sidebar inyecta din√°micamente los m√≥dulos de extensiones activas (KPI, Encuestas, BI)."
        validated: false
        flow_ids: ["FLOW-005"]
      - id: "AC-004"
        description: "El √≠tem activo del sidebar se resalta con fondo azul claro #EEF2FF, texto e icono #2563EB."
        validated: false
        flow_ids: ["FLOW-004"]
      - id: "AC-005"
        description: "El sidebar ocupa ~240px con fondo blanco y borde derecho sutil."
        validated: false
        flow_ids: ["FLOW-006"]
      - id: "AC-006"
        description: "El logo üîµ Orquestra aparece en la esquina superior izquierda del sidebar y es clickeable."
        validated: false
        flow_ids: ["FLOW-007"]
      - id: "AC-007"
        description: "El header contiene un selector de rol/perfil 'Directivo ‚ñº' (dropdown) + icono ayuda (?) + icono mensajes (‚úâÔ∏è)."
        validated: false
        flow_ids: ["FLOW-007"]
      - id: "AC-008"
        description: "El header muestra √≠conos de utilidad: b√∫squeda, notificaciones y ayuda."
        validated: false
        flow_ids: ["FLOW-007"]
      - id: "AC-009"
        description: "Cuando el rol cambia a Viewer, los √≠tems de admin (Usuarios, Roles) desaparecen del sidebar."
        validated: false
        flow_ids: ["FLOW-005"]

  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  # US-004: Dashboard (Inicio) y Empty States
  # ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  - id: "US-004"
    title: "Dashboard de Inicio con KPI Cards y guiado a Extensiones"
    module: "dashboard"
    priority: "high"
    status: "pending"
    sprint: 1
    flow_ids: ["FLOW-008", "FLOW-009"]
    actors: ["admin", "manager"]
    
    narrative: >
      Como usuario evaluando el demo, quiero aterrizar en un Dashboard
      con KPIs pre-calculados (√Åreas, Actividad, Estado del sistema)
      y un √°rea central vac√≠a que me gu√≠e hacia el Marketplace
      para entender que la plataforma usa un modelo modular que debo activar.

    acceptance_criteria:
      - id: "AC-001"
        name: "KPI Cards ejecutivas"
        description: "El dashboard muestra 3 tarjetas KPI: Resumen org (12 √°reas, 148 cols), Actividad reciente (24 hoy, +18%), Estado (100% operativo)."
        validated: false
        flow_ids: ["FLOW-008"]

      - id: "AC-002"
        name: "Empty State de Indicadores"
        description: "Debajo de las tarjetas, se muestra un √°rea de 'Indicadores' vac√≠a, con un mensaje 'No hay indicadores configurados' y un enlace claro 'Ve a Extensiones para activar KPI'."
        validated: false
        flow_ids: ["FLOW-008"]

      - id: "AC-003"
        name: "Navegaci√≥n guiada al Marketplace"
        description: "Al hacer click en el enlace del empty state, el usuario navega a /extensiones para conocer el modelo modular."
        validated: false
        flow_ids: ["FLOW-009"]

flows:
  # ‚îÄ‚îÄ‚îÄ LANDING PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  - id: "FLOW-001"
    name: "Visualizar Hero y CTA principal"
    type: "user_flow"
    module: "landing"
    actor: "visitante"
    priority: "high"
    status: "pending"
    test_status: "none"
    sprint_status: "todo"
    story: "US-001"
    story_points: 3
    entities: []
    trigger: "El visitante accede a la URL ra√≠z (/)"
    preconditions: ["Ninguna"]
    steps:
      - "El visitante accede a la URL ra√≠z"
      - "El sistema renderiza el hero section y bot√≥n CTA 'Ver demo'"
      - "El visitante hace clic en 'Ver demo'"
      - "El sistema navega directamente a /dashboard"
    alternatives:
      - "Si el visitante hace clic en 'Hablar con Ventas', se muestra un modal de contacto (mock)"
    errors: []

  - id: "FLOW-002"
    name: "Explorar secciones informativas"
    type: "user_flow"
    module: "landing"
    actor: "visitante"
    priority: "medium"
    status: "pending"
    test_status: "none"
    sprint_status: "todo"
    story: "US-001"
    story_points: 3
    entities: []
    trigger: "El visitante hace scroll en la landing page"
    preconditions: ["El visitante est√° en /"]
    steps:
      - "El visitante hace scroll hacia abajo"
      - "Aparece la secci√≥n de beneficios con 6 cards (√≠cono, t√≠tulo, descripci√≥n)"
      - "Aparece la secci√≥n 'C√≥mo Funciona' con 3 pasos numerados"
      - "Aparece la secci√≥n de extensiones destacadas con preview de KPI, Encuestas y BI"
      - "Aparece el CTA final con fondo oscuro y bot√≥n de acci√≥n"
    alternatives: []
    errors: []

  - id: "FLOW-003"
    name: "Navegar desde la barra sticky"
    type: "user_flow"
    module: "landing"
    actor: "visitante"
    priority: "low"
    status: "pending"
    test_status: "none"
    sprint_status: "todo"
    story: "US-001"
    story_points: 1
    entities: []
    trigger: "El visitante interact√∫a con la navbar sticky"
    preconditions: ["El visitante est√° en /"]
    steps:
      - "El visitante carga la p√°gina y ve la navbar fija con logo y links"
      - "Al hacer clic en 'Caracter√≠sticas' se navega con scroll suave a la secci√≥n de features"
      - "Al hacer clic en 'Ir al Demo' se navega a /marketplace"
    alternatives: []
    errors: []
